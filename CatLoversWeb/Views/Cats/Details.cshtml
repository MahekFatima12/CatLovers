@model CatLoversWeb.Models.Cat

@{
    ViewData["Title"] = "Cat Details";
}

<div class="container mt-4">
    <div class="row">

        <!-- IMAGE -->
        <div class="col-md-5">
            <img src="@Model.ImageUrl"
                 class="img-fluid rounded shadow"
                 alt="@Model.Name" />
        </div>

        <!-- DETAILS -->
        <div class="col-md-7">
            <h2 class="mb-2">@Model.Name</h2>

            <p class="text-muted">
                @Model.Breed • @Model.Age years old
            </p>

            <!-- PRICE -->
            @if (Model.DiscountPrice.HasValue)
            {
                <p>
                    <span class="text-muted text-decoration-line-through">
                        @Model.Price.ToString("C",
                                 System.Globalization.CultureInfo.GetCultureInfo("en-US"))
                    </span>

                    <span class="fs-4 fw-bold text-success ms-2">
                        @Model.DiscountPrice.Value.ToString("C",
                                 System.Globalization.CultureInfo.GetCultureInfo("en-US"))
                    </span>

                    <span class="badge bg-warning text-dark ms-2">Sale</span>
                </p>
            }
            else
            {
                <p class="fs-4 fw-bold text-success">
                    @Model.Price.ToString("C",
                             System.Globalization.CultureInfo.GetCultureInfo("en-US"))
                </p>
            }

            <!-- AVAILABILITY -->
            <p>
                @if (Model.IsAvailable)
                {
                    <span class="badge bg-success">Available</span>
                }
                else
                {
                    <span class="badge bg-danger">Reserved</span>
                }
            </p>

            <!-- EXTRA DETAILS -->
            <ul class="list-group list-group-flush mb-3">
                <li class="list-group-item">✔ Vaccinated</li>
                <li class="list-group-item">✔ Health Checked</li>
                <li class="list-group-item">✔ Friendly & Playful</li>
            </ul>
            <!-- PURCHASE BUTTON -->
            @if (Model.IsAvailable)
            {
                <a asp-controller="Cats"
                   asp-action="Purchase"
                   asp-route-id="@Model.Id"
                   class="btn btn-success btn-lg me-2">
                    🛒 Purchase Now
                </a>
            }
            else
            {
                <button class="btn btn-secondary btn-lg me-2" disabled>
                    Reserved
                </button>
            }

            <!-- ACTIONS -->
            <a asp-action="Index" class="btn btn-outline-secondary">
                ← Back to Cats
            </a>
        </div>
    </div>
</div>


